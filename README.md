# AI Text Scanner (MVP)

AI Text Scanner is a local, privacy-first tool that:
- Estimates how likely a piece of text was generated by AI
- Explains *why* (predictability, perplexity, burstiness)
- Auto-detects writing style (journalism, academic, technical, creative narrative, poetry, classic literature, etc.)
- Generates a per-scan PDF report
- Logs each scan to a readable CSV for auditing

Everything runs fully on your machine. No cloud calls. No API keys.

---

## ğŸ”¥ What You Get

### In the browser
- Paste text into the UI
- Click â€œScanâ€
- Get:
  - A verdict like â€œLow AI-likelihoodâ€ / â€œHigh AI-likelihoodâ€
  - A % score (`Likelihood this was AI-generated: 27% â€” low likelihood`)
  - Style classification (e.g. `Detected style: classic literature`)
  - Token heatmap visualization showing predictability

### On disk
- `scan_logs.csv`  
  Append-only log of every scan with timestamp, verdict, likelihood %, detected style, etc.

- `scan_summary_YYYY-MM-DD_HH-MM-SS.pdf`  
  A PDF report for that scan with a breakdown of model stats and visuals.

None of that leaves your machine.

---

## ğŸ§  How It Works (High Level)

For each text you scan:
1. It runs through a local language model (`EleutherAI/gpt-neo-1.3B`) using `transformers` and `torch`.
2. For every token, the app measures how â€œexpectedâ€ it is to the model.
   - High predictability across many tokens = typical AI signature.
   - Jumpy / spiky / uneven pacing (burstiness) = more human-like.
3. It computes:
   - **Top-10 / Top-100 %:** how often the next word was among the modelâ€™s top guesses
   - **Perplexity:** how â€œsurprisedâ€ the model is overall
   - **Burstiness:** how uneven that surprise is
4. It detects the *style* (journalism, academic, poetry, etc.) and adjusts thresholds so certain genres arenâ€™t falsely flagged.
5. It produces:
   - A calibrated AI-likelihood score (0â€“100%)
   - A written explanation
   - A category label
   - A per-scan PDF report

---

## ğŸ§© Requirements

### System
- macOS (Apple Silicon or Intel), Linux, or Windows  
  - macOS with Apple Silicon (M1/M2/M3) uses `mps` acceleration  
  - Windows will run on CPU unless CUDA is installed
- Python 3.10+ (3.11/3.12/3.13 all supported)

### Python packages
Automatically installed via `requirements.txt`, but notable ones:
- `fastapi`
- `uvicorn`
- `torch`
- `transformers`
- `pydantic`
- `reportlab`

On Apple Silicon, `torch` includes MPS support by default.  
On Windows/Linux, it will fall back to CPU if no GPU is available.

---

## ğŸ“¦ Setup & Run (Developer Mode)

These are the steps to run the scanner locally using FastAPI + your browser UI.

### 1. Clone the repo
```bash
git clone https://github.com/yourusername/AI_Scanner.git
cd AI_Scanner
```

### 2. Create and activate a virtual environment
**macOS / Linux**
```bash
python3 -m venv .venv
source .venv/bin/activate
```

**Windows (PowerShell)**
```powershell
python -m venv .venv
.\.venv\Scriptsctivate
```

### 3. Install dependencies
```bash
pip install --upgrade pip
pip install -r requirements.txt
```
### Public-domain (PD) fingerprint centroids
If you want PD overlap (Jaccard) to display, drop centroid JSON files into `./pd_fingerprints/` and restart the server.
On boot, the backend reports the count in `/version` as `fingerprint_centroids`. If zero, the UI shows â€œPD: noneâ€
and the Explain panel includes a note that PD overlap will be â€œâ€”â€.


The first run will also download the open-source model weights  
(`EleutherAI/gpt-neo-1.3B`, ~800MB).

---

## â–¶ï¸ Run the App

From the project root (venv active), run:

```bash
python3 -m uvicorn app:app --reload --port 8080
```

You should see:
```text
INFO:     Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
```

Then open:
```
http://127.0.0.1:8080/
```

Youâ€™ll see the web UI with:
- A text area  
- A **Scan** button  
- A dropdown for optional tags  
- Metrics that appear after running

Paste your text, click **Scan**, and watch it analyze.

### API playground
Open:
```
http://127.0.0.1:8080/docs
```
You can test `/scan` directly via Swagger UI.

---

## ğŸ—‚ Output Files

### `scan_logs.csv`
A running log of all scans:
- Timestamp  
- Verdict  
- AI-likelihood %  
- Predictability, Top-10 %, Top-100 %, Perplexity, Burstiness  
- Detected Category + Notes

### `scan_summary_YYYY-MM-DD_HH-MM-SS.pdf`
Auto-generated summary report for each scan:
- Verdict + Likelihood %  
- Style category + confidence  
- Metrics table + bar chart  
- Color-coded likelihood indicator  
- Notes about expected ranges per style (e.g. â€œtechnical writing tends to be repetitiveâ€)

---

## ğŸ§ª Score Meaning

Example explanations:
- **â€œLikelihood this was AI-generated: 15% â€” low likelihood.â€**  
  â†’ Probably human.

- **â€œLikelihood this was AI-generated: 87% â€” almost certain.â€**  
  â†’ Strong AI signature.

Also visible:
- **Perplexity** = how â€œsurprisedâ€ the model is  
- **Burstiness** = how uneven the surprise is  
- **Top-10 % / Top-100 %** = how predictable the next token was

High predictability + low burstiness = machine-like.  
Category-aware calibration avoids false flags for specific genres.

---

## ğŸ™… Privacy & Offline

- 100% local â€” no network calls.  
- Uses open-source models (EleutherAI).  
- Writes logs and PDFs locally.  
- No telemetry, no external API keys.

---

## ğŸ Troubleshooting

### â€œModuleNotFoundError: No module named 'reportlab'â€
You missed dependencies. Run:
```bash
pip install -r requirements.txt
```

### â€œTorch canâ€™t find MPS / CUDAâ€
Itâ€™s fine â€” itâ€™ll run on CPU automatically.

### Browser shows `404 Not Found` at `/`
Youâ€™re missing this route in `app.py`:
```python
@app.get("/", response_class=HTMLResponse)
def serve_index():
    index_path = pathlib.Path(__file__).parent / "index.html"
    return index_path.read_text(encoding="utf-8")
```
Your latest build already includes this fix.

### Known Mac OS Client issues (For the local client application only)
You can manually tell macOS to trust the app:

Open Terminal.

Run:

xattr -d com.apple.quarantine ~/Downloads/AI_Text_Scanner.app


Press Enter, then try opening the app again.

If youâ€™re opening the raw binary (not the .app bundle), run:

xattr -d com.apple.quarantine ~/Downloads/AI_Text_Scanner


Now itâ€™ll open immediately, no warning.

---

## âš ï¸ Limitations

- Itâ€™s not a plagiarism checker (yet).  
  It doesnâ€™t crawl the web or compare sources.  
- It can misclassify:
  - Heavily edited AI text  
  - Formulaic human writing (press releases, legal docs)
- Itâ€™s meant for **students and writers to self-audit**, not for surveillance.

---

## ğŸ›  Roadmap / Future Ideas

- Add optional web-scrape plagiarism detection  
- Batch-scan folders of text files  
- OCR support for scanned documents  
- Track revisions to see when tone or â€œvoiceâ€ changes suddenly

---

## ğŸ“ License / Usage

- Experimental open project.  
- Use responsibly.  
- Donâ€™t weaponize it.  
- Designed for educational and creative use only.

---

## ğŸ‘‹ Quickstart Recap

```bash
# 1. Clone
git clone https://github.com/yourusername/AI_Scanner.git
cd AI_Scanner

# 2. Virtual env
python3 -m venv .venv
source .venv/bin/activate   # (Windows: .\.venv\Scripts\activate)

# 3. Install deps
pip install --upgrade pip
pip install -r requirements.txt

# 4. Run
python3 -m uvicorn app:app --reload --port 8080

# 5. Open browser
http://127.0.0.1:8080/
```

Youâ€™re in. Paste text, click **Scan**, and review your results and reports.

---



Made with â¤ï¸ by Soren Essen  
Powered by **FastAPI**, **Transformers**, and **Calypso Labs**.
