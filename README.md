# AI Text Scanner (MVP)

AI Text Scanner is a local, privacy-first tool that:
- Estimates how likely a piece of text was generated by AI
- Explains *why* (predictability, perplexity, burstiness)
- Auto-detects writing style (journalism, academic, technical, creative narrative, poetry, classic literature, etc.)
- Generates a per-scan PDF report
- Logs each scan to a readable CSV for auditing

Everything runs fully on your machine. No cloud calls. No API keys.

---

## 🔥 What You Get

### In the browser
- Paste text into the UI
- Click “Scan”
- Get:
  - A verdict like “Low AI-likelihood” / “High AI-likelihood”
  - A % score (`Likelihood this was AI-generated: 27% — low likelihood`)
  - Style classification (e.g. `Detected style: classic literature`)
  - Token heatmap visualization showing predictability

### On disk
- `scan_logs.csv`  
  Append-only log of every scan with timestamp, verdict, likelihood %, detected style, etc.

- `scan_summary_YYYY-MM-DD_HH-MM-SS.pdf`  
  A PDF report for that scan with a breakdown of model stats and visuals.

None of that leaves your machine.

---

## 🧠 How It Works (High Level)

For each text you scan:
1. It runs through a local language model (`EleutherAI/gpt-neo-1.3B`) using `transformers` and `torch`.
2. For every token, the app measures how “expected” it is to the model.
   - High predictability across many tokens = typical AI signature.
   - Jumpy / spiky / uneven pacing (burstiness) = more human-like.
3. It computes:
   - **Top-10 / Top-100 %:** how often the next word was among the model’s top guesses
   - **Perplexity:** how “surprised” the model is overall
   - **Burstiness:** how uneven that surprise is
4. It detects the *style* (journalism, academic, poetry, etc.) and adjusts thresholds so certain genres aren’t falsely flagged.
5. It produces:
   - A calibrated AI-likelihood score (0–100%)
   - A written explanation
   - A category label
   - A per-scan PDF report

---

## 🧩 Requirements

### System
- macOS (Apple Silicon or Intel), Linux, or Windows  
  - macOS with Apple Silicon (M1/M2/M3) uses `mps` acceleration  
  - Windows will run on CPU unless CUDA is installed
- Python 3.10+ (3.11/3.12/3.13 all supported)

### Python packages
Automatically installed via `requirements.txt`, but notable ones:
- `fastapi`
- `uvicorn`
- `torch`
- `transformers`
- `pydantic`
- `reportlab`

On Apple Silicon, `torch` includes MPS support by default.  
On Windows/Linux, it will fall back to CPU if no GPU is available.

---

## 📦 Setup & Run (Developer Mode)

These are the steps to run the scanner locally using FastAPI + your browser UI.

### 1. Clone the repo
```bash
git clone https://github.com/yourusername/AI_Scanner.git
cd AI_Scanner
```

### 2. Create and activate a virtual environment
**macOS / Linux**
```bash
python3 -m venv .venv
source .venv/bin/activate
```

**Windows (PowerShell)**
```powershell
python -m venv .venv
.\.venv\Scriptsctivate
```

### 3. Install dependencies
```bash
pip install --upgrade pip
pip install -r requirements.txt
```

The first run will also download the open-source model weights  
(`EleutherAI/gpt-neo-1.3B`, ~800MB).

---

## ▶️ Run the App

From the project root (venv active), run:

```bash
python3 -m uvicorn app:app --reload --port 8080
```

You should see:
```text
INFO:     Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
```

Then open:
```
http://127.0.0.1:8080/
```

You’ll see the web UI with:
- A text area  
- A **Scan** button  
- A dropdown for optional tags  
- Metrics that appear after running

Paste your text, click **Scan**, and watch it analyze.

### API playground
Open:
```
http://127.0.0.1:8080/docs
```
You can test `/scan` directly via Swagger UI.

---

## 🗂 Output Files

### `scan_logs.csv`
A running log of all scans:
- Timestamp  
- Verdict  
- AI-likelihood %  
- Predictability, Top-10 %, Top-100 %, Perplexity, Burstiness  
- Detected Category + Notes

### `scan_summary_YYYY-MM-DD_HH-MM-SS.pdf`
Auto-generated summary report for each scan:
- Verdict + Likelihood %  
- Style category + confidence  
- Metrics table + bar chart  
- Color-coded likelihood indicator  
- Notes about expected ranges per style (e.g. “technical writing tends to be repetitive”)

---

## 🧪 Score Meaning

Example explanations:
- **“Likelihood this was AI-generated: 15% — low likelihood.”**  
  → Probably human.

- **“Likelihood this was AI-generated: 87% — almost certain.”**  
  → Strong AI signature.

Also visible:
- **Perplexity** = how “surprised” the model is  
- **Burstiness** = how uneven the surprise is  
- **Top-10 % / Top-100 %** = how predictable the next token was

High predictability + low burstiness = machine-like.  
Category-aware calibration avoids false flags for specific genres.

---

## 🙅 Privacy & Offline

- 100% local — no network calls.  
- Uses open-source models (EleutherAI).  
- Writes logs and PDFs locally.  
- No telemetry, no external API keys.

---

## 🐍 Troubleshooting

### “ModuleNotFoundError: No module named 'reportlab'”
You missed dependencies. Run:
```bash
pip install -r requirements.txt
```

### “Torch can’t find MPS / CUDA”
It’s fine — it’ll run on CPU automatically.

### Browser shows `404 Not Found` at `/`
You’re missing this route in `app.py`:
```python
@app.get("/", response_class=HTMLResponse)
def serve_index():
    index_path = pathlib.Path(__file__).parent / "index.html"
    return index_path.read_text(encoding="utf-8")
```
Your latest build already includes this fix.

### Known Mac OS Client issues (For the local client application only)
You can manually tell macOS to trust the app:

Open Terminal.

Run:

xattr -d com.apple.quarantine ~/Downloads/AI_Text_Scanner.app


Press Enter, then try opening the app again.

If you’re opening the raw binary (not the .app bundle), run:

xattr -d com.apple.quarantine ~/Downloads/AI_Text_Scanner


Now it’ll open immediately, no warning.

---

## ⚠️ Limitations

- It’s not a plagiarism checker (yet).  
  It doesn’t crawl the web or compare sources.  
- It can misclassify:
  - Heavily edited AI text  
  - Formulaic human writing (press releases, legal docs)
- It’s meant for **students and writers to self-audit**, not for surveillance.

---

## 🛠 Roadmap / Future Ideas

- Add optional web-scrape plagiarism detection  
- Batch-scan folders of text files  
- OCR support for scanned documents  
- Track revisions to see when tone or “voice” changes suddenly

---

## 📝 License / Usage

- Experimental open project.  
- Use responsibly.  
- Don’t weaponize it.  
- Designed for educational and creative use only.

---

## 👋 Quickstart Recap

```bash
# 1. Clone
git clone https://github.com/yourusername/AI_Scanner.git
cd AI_Scanner

# 2. Virtual env
python3 -m venv .venv
source .venv/bin/activate   # (Windows: .\.venv\Scripts\activate)

# 3. Install deps
pip install --upgrade pip
pip install -r requirements.txt

# 4. Run
python3 -m uvicorn app:app --reload --port 8080

# 5. Open browser
http://127.0.0.1:8080/
```

You’re in. Paste text, click **Scan**, and review your results and reports.

---



Made with ❤️ by Soren Essen  
Powered by **FastAPI**, **Transformers**, and **Calypso Labs**.
